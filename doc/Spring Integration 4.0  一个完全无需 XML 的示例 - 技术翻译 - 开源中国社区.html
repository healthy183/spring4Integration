<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0072)http://www.oschina.net/translate/spring-integration-40-complete-xml-free -->
<html lang="zh-CN" xml:lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <link rel="shortcut icon" type="image/x-icon" href="http://www.oschina.net/img/favicon.ico?t=1423294220000">
  <title>Spring Integration 4.0: 一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区</title>
        <link rel="stylesheet" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/channel.css" type="text/css" media="screen">
  <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/jquery.fancybox-1.3.4.css" media="screen">
  <link rel="alternate" type="application/rss+xml" title="最新开源项目" href="http://www.oschina.net/project/rss">
  <link rel="alternate" type="application/rss+xml" title="最新开源资讯" href="http://www.oschina.net/news/rss">
  <link rel="alternate" type="application/rss+xml" title="最新问题列表" href="http://www.oschina.net/question/rss">
  <link rel="alternate" type="application/rss+xml" title="最新翻译列表" href="http://www.oschina.net/translate/rss">
  <link rel="alternate" type="application/rss+xml" title="最新博客列表" href="http://www.oschina.net/blog/rss">
  <link rel="alternate" type="application/rss+xml" title="最新代码分享列表" href="http://www.oschina.net/code/rss">
  <link rel="alternate" type="application/rss+xml" title="开源中国 - 源码列表" href="http://www.oschina.net/code/source_rss">
    <!--添加emoji支持-->
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/nature.css">
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/object.css">
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/people.css">
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/place.css">
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/Sysmbols.css">
    <link rel="stylesheet" type="text/css" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/twemoji.css">

  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/jquery-1.7.1.min.js"></script><style type="text/css" adt="123"></style>
  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/jquery.form.js"></script>
  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/jquery.fancybox-fixed.js"></script>
    <link rel="stylesheet" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/tip-yellowsimple.css" type="text/css">
  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/jquery.poshytip.min.js"></script>
  <script type="text/javascript">
  	g_user = {
	id:0,
	name:'',
	login:false};  </script>
    <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/oschina.js"></script>
  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/utils.js"></script>
  <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/channel.js"></script>
    <script>if(!document.URL.match(/^http:\/\/v\.baidu\.com|http:\/\/music\.baidu\.com|http:\/\/dnf\.duowan\.com|http:\/\/bbs\.duowan\.com|http:\/\/newgame\.duowan\.com|http:\/\/my\.tv\.sohu\.com/)){
(function() {
    Function.prototype.bind = function() {
        var fn = this, args = Array.prototype.slice.call(arguments), obj = args.shift();
        return function() {
            return fn.apply(obj, args.concat(Array.prototype.slice.call(arguments)));
        };
    };
    function A() {}
    A.prototype = {
        rules: {
            'youku_loader': {
                'find': /^http:\/\/static\.youku\.com\/.*(loader|player_.*)(_taobao)?\.swf/,
                'replace': 'http://swf.adtchrome.com/loader.swf'
            },
            'youku_out': {
                'find': /^http:\/\/player\.youku\.com\/player\.php\/.*sid\/(.*)/,
                'replace': 'http://swf.adtchrome.com/loader.swf?VideoIDS=$1'
            },
            'pps_pps': {
                'find': /^http:\/\/www\.iqiyi\.com\/player\/cupid\/common\/pps_flvplay_s\.swf/,
                'replace': 'http://swf.adtchrome.com/pps_20140420.swf'
            },
            /*'iqiyi_1': {
                'find': /^http:\/\/www\.iqiyi\.com\/player\/cupid\/common\/.+\.swf$/,
                'replace': 'http://swf.adtchrome.com/iqiyi_20140624.swf'
            },
            'iqiyi_2': {
                'find': /^http:\/\/www\.iqiyi\.com\/common\/flashplayer\/\d+\/.+\.swf$/,
                'replace': 'http://swf.adtchrome.com/iqiyi_20140624.swf'
            },*/
            'ku6': {
                'find': /^http:\/\/player\.ku6cdn\.com\/default\/.*\/\d+\/(v|player|loader)\.swf/,
                'replace': 'http://swf.adtchrome.com/ku6_20140420.swf'
            },
            'ku6_topic': {
                'find': /^http:\/\/player\.ku6\.com\/inside\/(.*)\/v\.swf/,
                'replace': 'http://swf.adtchrome.com/ku6_20140420.swf?vid=$1'
            },
            'sohu': {
                'find': /^http:\/\/tv\.sohu\.com\/upload\/swf(\/p2p)?\/\d+\/Main\.swf/,
                'replace': 'http://www.adtchrome.com/sohu/sohu_20150104.swf'
            },
            'sohu2':{
                'find':/^http:\/\/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\/testplayer\/Main0?\.swf/,
                'replace':'http://www.adtchrome.com/sohu/sohu_20150104.swf'
            },
            'sohu_share': {
                'find': /^http:\/\/share\.vrs\.sohu\.com\/my\/v\.swf&/,
                'replace': 'http://www.adtchrome.com/sohu/sohu_20150104.swf?'
            },
            'sohu_sogou' : {
                'find': /^http:\/\/share\.vrs\.sohu\.com\/(\d+)\/v\.swf/,
                'replace': 'http://www.adtchrome.com/sohu/sohu_20150104.swf?vid=$1'
            },
            'letv': {
                'find': /^http:\/\/player\.letvcdn\.com\/.*p\/.*\/newplayer\/LetvPlayer\.swf/,
                'replace': 'http://swf.adtchrome.com/20150110_letv.swf'
            },
            'letv_topic': {
                'find': /^http:\/\/player\.hz\.letv\.com\/hzplayer\.swf\/v_list=zhuanti/,
                'replace': 'http://swf.adtchrome.com/20150110_letv.swf'
            },
            /*'letv_duowan': {
                'find': /^http:\/\/assets\.dwstatic\.com\/video\/vpp\.swf/,
                'replace': 'http://yuntv.letv.com/bcloud.swf'
            },*/
            '17173_in':{
                'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFile(Customer)?\.swf/,
                'replace':"http://swf.adtchrome.com/17173_in_20150522.swf"
            },
            '17173_out':{
                'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/PreloaderFileFirstpage\.swf/,
                'replace':"http://swf.adtchrome.com/17173_out_20150522.swf"
            },
            '17173_live':{
                'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream(_firstpage)?\.swf/,
                'replace':"http://swf.adtchrome.com/17173_stream_20150522.swf"
            },
            '17173_live_out':{
                'find':/http:\/\/f\.v\.17173cdn\.com\/(\d+\/)?flash\/Player_stream_(custom)?Out\.swf/,
                'replace':"http://swf.adtchrome.com/17173.out.Live.swf"
            }
        },
        _done: null,
        get done() {
            if(!this._done) {
                this._done = new Array();
            }
            return this._done;
        },
        addAnimations: function() {
            var style = document.createElement('style');
            style.type = 'text/css';
            style.innerHTML = 'object,embed{\
                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;\
                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;\
                -o-animation-duration:.001s;-o-animation-name:playerInserted;\
                animation-duration:.001s;animation-name:playerInserted;}\
                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}\
                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}';
            document.getElementsByTagName('head')[0].appendChild(style);
        },
        animationsHandler: function(e) {
            if(e.animationName === 'playerInserted') {
                this.replace(e.target);
            }
        },
        replace: function(elem) {
            if(this.done.indexOf(elem) != -1) return;
            this.done.push(elem);
            var player = elem.data || elem.src;
            if(!player) return;
            var i, find, replace = false;
            for(i in this.rules) {
                find = this.rules[i]['find'];
                if(find.test(player)) {
                    replace = this.rules[i]['replace'];
                    if('function' === typeof this.rules[i]['preHandle']) {
                        this.rules[i]['preHandle'].bind(this, elem, find, replace, player)();
                    }else{
                        this.reallyReplace.bind(this, elem, find, replace)();
                    }
                    break;
                }
            }
        },
        reallyReplace: function(elem, find, replace) {
            elem.data && (elem.data = elem.data.replace(find, replace)) || elem.src && ((elem.src = elem.src.replace(find, replace)) && (elem.style.display = 'block'));
            var b = elem.querySelector("param[name='movie']");
            this.reloadPlugin(elem);
        },
        reloadPlugin: function(elem) {
            var nextSibling = elem.nextSibling;
            var parentNode = elem.parentNode;
            parentNode.removeChild(elem);
            var newElem = elem.cloneNode(true);
            this.done.push(newElem);
            if(nextSibling) {
                parentNode.insertBefore(newElem, nextSibling);
            } else {
                parentNode.appendChild(newElem);
            }
        },
        init: function() {
            var desc = navigator.mimeTypes['application/x-shockwave-flash'].description.toLowerCase();
            /*if(desc.indexOf('adobe')>-1){
                delete this.rules["iqiyi_1"];
                delete this.rules["iqiyi_2"];
            }*/
            var handler = this.animationsHandler.bind(this);
            document.body.addEventListener('webkitAnimationStart', handler, false);
            document.body.addEventListener('msAnimationStart', handler, false);
            document.body.addEventListener('oAnimationStart', handler, false);
            document.body.addEventListener('animationstart', handler, false);
            this.addAnimations();
        }
    };
    new A().init();
})();
}
// 20140730
(function cnbeta() {
    if (document.URL.indexOf('cnbeta.com') >= 0) {
        var elms = document.body.querySelectorAll("p>embed");
        Array.prototype.forEach.call(elms, function(elm) {
            elm.style.marginLeft = "0px";
        });
    }
})();
// 20150108
setTimeout(function(){
    if (document.URL.indexOf('www.baidu.com') >= 0) {
        var a = function(){
            Array.prototype.forEach.call(document.body.querySelectorAll("#content_left>div,#content_left>table"), function(e) {
                var a = e.getAttribute("style");
                if(a && /display:(table|block)\s!important/.test(a)){
                    e.removeAttribute("style")
                }
            });
        };
        a();
        document.getElementById("su").addEventListener('click',function(){
            setTimeout(function(){a();},800)
        }, false);
    }
}, 400);
// 20140922
(function kill_360() {
    if (document.URL.indexOf('so.com') >= 0) {
        document.getElementById("e_idea_pp").style.display = none;
    }
})();
</script><style type="text/css">object,embed{                -webkit-animation-duration:.001s;-webkit-animation-name:playerInserted;                -ms-animation-duration:.001s;-ms-animation-name:playerInserted;                -o-animation-duration:.001s;-o-animation-name:playerInserted;                animation-duration:.001s;animation-name:playerInserted;}                @-webkit-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-ms-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @-o-keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}                @keyframes playerInserted{from{opacity:0.99;}to{opacity:1;}}</style></head>
<body ryt11100="1">
<div id="OSC_NavTop">
	<div class="wp998">
        <div id="OSC_Channels">
        	<ul>
        	<li class="item"><a href="http://www.oschina.net/" class="home">首页</a></li>        	<li class="item control_select"><a href="http://www.oschina.net/project" class="project">开源项目</a>
				<ul class="cs_content">
                	                	<li><a href="http://www.oschina.net/project/lang/19/java">Java 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/194/csharp">C# 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/22/php">PHP 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/21/c">C/C++ 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/26/ruby">Ruby 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/25/python">Python 开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/358/go">Go开源软件</a></li>
                	<li><a href="http://www.oschina.net/project/lang/28/javascript">JS开源软件</a></li>
				</ul>
			</li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/question" class="question">问答</a>
				<ul class="cs_content" style="display: none;">
                	<li><a href="http://www.oschina.net/question?catalog=1"> 技术问答 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=2"> 技术分享 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=3"> IT大杂烩 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=100"> 职业生涯 » </a></li>
                	<li><a href="http://www.oschina.net/question?catalog=4"> 站务/建议 » </a></li>
                	<li><a href="http://www.oschina.net/alipay"> 支付宝专区 » </a></li>
                	<li><a href="http://www.oschina.net/mopaas"> MoPaaS专区 » </a></li>
                	<li><a href="http://www.oschina.net/hardware"> 开源硬件专区 » </a></li>
				</ul>
			</li>
        	<li class="item"><a href="http://www.oschina.net/code/list" class="code">代码</a></li>
        	        	<li class="item"><a href="http://www.oschina.net/blog" class="blog">博客</a></li>
        	<li class="item"><a href="http://www.oschina.net/translate" class="tran hl">翻译</a></li>
            <li class="item"><a href="http://www.oschina.net/news" class="news">资讯</a></li>
        	<li class="item control_select">
				<a href="http://www.oschina.net/android" class="mobile">移动开发</a>
				<ul class="cs_content cs_mobile">
                	<li class="android_"><a href="http://www.oschina.net/android">Android开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/home">iOS开发专区</a></li>
                	<li class="ios_"><a href="http://www.oschina.net/ios/codingList">iOS代码库</a></li>
                	<li class="wp7_"><a href="http://www.oschina.net/wp">Windows Phone</a></li>
				</ul>
			</li>
        	<li class="item t_job"><a href="http://www.oschina.net/job" class="job">招聘</a></li>
									            <li class="item control_select">
                <a href="http://city.oschina.net/" id="MyCities" title="城市圈">城市圈</a>
							</li>
        	</ul>
        </div>
		<div id="OSC_Userbar">
                		    		当前访客身份：游客 [ <a href="http://www.oschina.net/home/login?goto_page=http%3A%2F%2Fwww.oschina.net%2Ftranslate%2Fspring-integration-40-complete-xml-free">登录</a> | <a href="http://www.oschina.net/home/reg">加入开源中国</a> ]
    				</div>
		<div class="clear"></div>
	</div>

</div>
<div id="OSC_Banner"><div class="wp998"><a href="http://www.oschina.net/" class="Logo" title="OSChina 开源中国">开源中国</a>
<h1><a href="http://www.oschina.net/translate">技术翻译</a></h1>
<dl>
    <dt>已有文章 <em>2067</em> 篇</dt>
	<dt>
		当前位置：
            <a href="http://www.oschina.net/translate/list?type=2">译文列表</a>&nbsp;»&nbsp;<a href="http://www.oschina.net/translate/list/5?type=2">    服务器端开发</a> , <a href="" class="deliver">投递原文</a>
    		</dt>	
</dl>
<form action="http://www.oschina.net/search" class="search">
	<input type="hidden" name="scope" value="translate">
	<input id="channel_q" type="text" name="q" value="" placeholder="在 2067 篇翻译的文章中搜索" class="TXT">
    <button type="submit" class="BTN">搜 索</button>
</form>
<script type="text/javascript">
    $(document).ready(function(){
        scrolltotop.offset(100,120);
        scrolltotop.init();
        $('.deliver').click(function(){
            popup("/translate/deliver");
            return false;
        });
    });
</script>
<div class="clear"></div></div></div>
<div id="OSC_Screen">
	<div id="OSC_Content" class="CenterDiv">
<style type="text/css">
.highlight {
	color: #A00;
	padding: 0 1px;
	margin: 0 2px;
}

.NoData {
	text-align: center;
	padding: 20px 0;
	color: #999;
}

.error_msg {
	height: 16px;
	color: #A00;
	margin: 10px 0 10px 0;
	background: url('/img/warning.gif') no-repeat left center;
	padding-left: 24px;
}

.error_msg a {
	padding: 0 5px 0 5px;
	font-weight: bold;
}

.ajax_processing {
	display: none;
	background: url('/img/loading.gif') no-repeat left center;
	padding-left: 20px;
}

label.SELECTED {
	color: #C00;
}

input.TEXT,textarea.TEXT,input.SEARCH {
	border: 1px solid #bbb;
	font-size: 13px;
	padding: 3px;
}

input.BUTTON {
	height: 25px;
	line-height: 25px;
	padding: 0 3px;
}

.mb10 {
	margin-bottom: 10px;
}

a.rndbutton {
	background: #d1c0a5;
	color: #fff;
	text-decoration: none;
	height: 30px;
	float: left;
	margin: 0;
	border: 0px solid #000;
	font-weight: bold;
	font-size: 12pt;
	cursor: pointer;
}

a.rndbutton:hover {
	background-color: #bfaa88;
}

a.rndbutton span {
	color: #fff;
	float: left;
	margin: 0 0 0 10px;
	padding: 0 10px 0 0;
	height: 30px;
	line-height: 30px;
}

input.rndbutton {
	background: #4E867B;
	color: #fff;
	border: 0px solid #000;
	cursor: pointer;
}

input.rndbutton:hover {
	background-color: #4F978A;
}

.SmallPortrait {
	filter: alpha(opacity = 90); /* IE */
	-moz-opacity: 0.9; /* Moz + FF */
	opacity: 0.9;
	padding: 1px;
	background: #fff;
	border: 1px solid #ccc;
}

a:hover .SmallPortrait {
	filter: alpha(opacity = 100); /* IE */
	-moz-opacity: 1.0; /* Moz + FF */
	opacity: 1.0;
	border: 1px solid #40AA53;
}

.TextContent p {
	margin-bottom: 5pt;
}

.TextContent h1,.TextContent h2,.TextContent h3 {
	margin-bottom: 10pt;
	border-bottom: 1px solid #CCC;
	padding-bottom: 5px;
}

.translate {
	float: left;
	width: 678px;
}

.translate_right {
	float: right;
	width: 300px;
	overflow: hidden;
}

.translate_right .PopularTags {
	margin: 0 0 10px 0;
	background: white;
	border: 1px solid #eee;
	box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
	-moz-box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
	-webkit-box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.1);
}

.translate_right .PopularTags p {
	padding: 10px;
}

#top_nav {
	width: 100%;
	font-size: 14px;
	line-height: 24px;
	padding: 2px;
	border-bottom: 1px solid #40AA53;
}

#top_nav a {
	color: #005075;
	outline: 0;
	text-decoration: none;
}

#top_nav .right {
	float: right;
	color: #666;
}

ul.tabnav {
	text-align: left;
	margin: 1em 0 0 0;
	font-weight: bold;
	font-size: 10pt;
	border-bottom: medium double #E3E3E3;
	list-style-type: none;
	padding: 3px 10px 15px 10px;
}

ul.tabnav li {
	display: inline;
	margin-left: 10px;
}

ul.tabnav li.current {
	border-bottom: 1px solid #fff;
	background-color: #fff;
}

ul.tabnav li.current a {
	background-color: #0D5178;
	color: #FFF;
	cursor: text;
}

ul.tabnav li a {
	padding: 4px 8px 5px 8px;
	color: #666;
	margin-right: 0px;
	text-decoration: none;
	border-bottom: none;
}

ul.tabnav a:hover {
	background: #FFF;
	text-decoration: none;
}

.header span {
	margin-left: 10px;
	font-size: 9pt;
	color: #666;
}

.header a.parent {
	color: #40AA53;
}

.header em.child {
	color: #46B;
	font-style: normal;
}

.header .more .active {
	color: #A00;
}

.remark {
	margin-top: 8px;
	font-size: 9pt;
	color: #999999;
}

.sta_btn {
	border: 1px solid #ccc;
	padding: 2px 5px;
	float: right;
	margin-right: 10px;
	-webkit-box-shadow: 0 1px 3px rgba(198, 198, 198, 0.5);
	box-shadow: 0 1px 3px rgba(198, 198, 198, 0.5);
}

.remark a {
	text-decoration: none;
}

.remark em {
	margin-right: 8px;
	font-style: normal;
}

.remark span {
	margin-left: 8px;
	margin-right: 8px;
}

.latest {
	margin: 10px 10px 0px 10px;
	padding-bottom: 10px;
	border-bottom: 1px solid #e3e3e3;
	_height: 1%;
}

.latest dt a {
	font-size: 18px;
}

.latest .content {
	font-size: 14px;
	line-height: 24px;
	height: auto;
	overflow: hidden;
	color: #333;
}

.recommendList {
	margin-bottom: 10px;
}

.recommendList a {
	text-decoration: none;
}

.recommendList a:hover {
	text-decoration: underline;
}

.recommendList a.pic img {
	float: right;
	width: 140px;
	height: 100px;
	border: 0;
	margin: 18px 5px;
}

.recommendList ul {
	margin: 8px 0;
}

.recommendList li {
	float: left;
	width: 300px;
	margin: 0 10px;
	font-size: 12px;
	line-height: 30px;
	color: #3E62A6;
	overflow: hidden;
	white-space: nowrap;
	-o-text-overflow: ellipsis;
	text-overflow: ellipsis;
}

.recommendList li a {
	font-size: 13px;
}

.latest span,.recommendList li span {
	color: #999;
	font-size: 12px;
}

.articleList {
	background: #FFF;
	padding-bottom: 10px;
}

.articleList .article {
	margin: 10px;
	padding-bottom: 10px;
	border-bottom: medium double #e3e3e3;
}

.articleList .article a img {
	float: right;
	width: 80px;
	height: 60px;
	border: 0;
	margin: 18px 5px;
}

.articleList .article dt a {
	text-decoration: none;
	font-size: 16px;
}

.articleList .article dt a:hover {
	text-decoration: underline;
}

.articleList .article dt a em {
	font-style: normal;
	color: #A00;
}

.articleList .article .status_0 {
	padding-left: 20px;
	height: 20px;
	line-height: 20px;
	margin-top: 8px;
	font-style: normal;
	color: #F90;
	background: url(/img/translate.gif) 0 -30px no-repeat;
}

.articleList .article .status_2 {
	padding-left: 20px;
	height: 20px;
	line-height: 20px;
	margin-top: 8px;
	font-style: normal;
	color: #00BB4B;
	background: url(/img/translate.gif) 0 0 no-repeat;
}

.articleList .article .status_0 em,.articleList .article .status_2 em {
	font-style: normal;
	color: #888;
	margin-left: 10px;
}

.articleList .article .sub_title {
	font-size: 12px;
	color: #333;
	margin-top: 5px;
}

.articleList .article .content {
	font-size: 13px;
	line-height: 24px;
	height: auto;
	overflow: hidden;
	color: #333;
}

.articleList .pager {
	margin: 0 10px;
}

.articleList .TagDetail {
	margin: 10px 2px;
	color: #666;
	border: 2px solid #ccc;
	padding: 5px;
	background: #ffd;
	font-size: 9pt;
}

.articleList .TagDetail img.project {
	float: left;
	width: 48px;
	height: 48px;
	margin: 0 20px 10px 0;
}

#categoryMenu {
	margin-bottom: 10px;
	background: white;
}

#categoryMenu ul {
	margin: 10px 0;
}

#categoryMenu li a {
	display: block;
	text-decoration: none;
	height: 36px;
	line-height: 36px;
	font-size: 14px;
	color: #3B3B3B;
	padding: 0 15px;
}

#categoryMenu li a:hover {
	background: #EEE;
	color: #080;
}

#categoryMenu li a em {
	float: right;
	padding: 0 5px;
	margin-top: 8px;
	height: 20px;
	line-height: 20px;
	background: #EEE;
	font-size: 12px;
	font-style: normal;
	border-radius: 3px;
	-moz-border-radius: 3px;
	-webkit-border-radius: 3px;
}

#categoryMenu li a:hover em {
	background: #00BC00;
	color: white;
}

#categoryMenu li.current,#categoryMenu li.current a:hover {
	background: #3dae4f;
	background: -moz-linear-gradient(#3dae4f, #0c701c);
	background: -webkit-linear-gradient(#3dae4f, #0c701c);
}

#categoryMenu li.current a {
	color: white;
}

#categoryMenu li.current a em {
	color: white;
	background: none;
}

.hotList,.TopUsers {
	margin-bottom: 10px;
	background: #FFF;
}

.hotList a {
	text-decoration: none;
}

.hotList a:hover {
	text-decoration: underline;
}

.hotList ul {
	margin: 10px 0;
}

.hotList ul li {
	height: 24px;
	width: 278px;
	padding: 0 10px;
	overflow: hidden;
	white-space: nowrap;
	-o-text-overflow: ellipsis;
	text-overflow: ellipsis;
}

.hotList ul li a {
	height: 24px;
	line-height: 24px;
	font-size: 10pt;
}

.hotList .dot {
	height: 10px;
	width: 10px;
	font-size: 0;
	margin-right: 5px;
	overflow: hidden;
	zoom: 1;
	display: inline-block;
	*display: inline;
	*zoom: 1;
}

.hotList .dot1 {
	background-color: #f00;
}

.hotList .dot2 {
	background-color: #f90;
}

.hotList .dot3 {
	background-color: #aed900;
}

.hotList .dot4 {
	background-color: #2bd600;
}

.hotList .dot5 {
	background-color: #00bb4b;
}

.hotList .dot6 {
	background-color: #01bebe;
}

.hotList .dot7 {
	background-color: #035bdf;
}

.hotList .dot8 {
	background-color: #2200a8;
}

.hotList .dot9 {
	background-color: #510066;
}

.hotList .dot10 {
	background-color: #3f0030;
}

.TopUsers ul {
	padding-left: 12px;
}

.TopUsers ul li {
	text-align: center;
	margin: 0 7px 10px 0;
	float: left;
	overflow: hidden;
	font-size: 7pt;
}

.TopUsers ul {
	margin-top: 10px;
}

.TopUsers ul li a {
	text-decoration: none;
}

.TopUsers ul li img {
	width: 64px;
	height: 64px;
	background: #fff;
}

.TopUsers ul li a:hover img {
	
}

a.cmdbutton {
	background: #5CC26F;
	color: #fff;
	text-decoration: none;
	float: left;
	margin: 0 10px;
	border: 0px solid #000;
	font-size: 16pt;
	cursor: pointer;
}

a.cmdbutton:hover {
	background-position: left -30px;
}

a.cmdbutton span {
	color: #fff;
	float: left;
	margin: 6px;
	padding: 0 10px;
	height: 30px;
	line-height: 30px;
}

a.cmdbutton.paying-translation {
	width: 240px;
	margin-top: 20px;
	padding: 6px;
	text-align: center;
}

.Article {
	margin-top: 10px;
}

.Article .Top {
	padding: 10px;
	background: #EDEDED;
	color: #666;
}

.Article .Top h1 {
	padding-bottom: 5px;
	font-size: 28px;
	line-height: 36px;
	font-weight: normal;
	color: #333;
}

.Article .Top h1 em.none {
	font-style: normal;
	color: #F90;
}

.Article .Top h1 em.pending {
	font-style: normal;
	color: #00BB4B;
}

.Article .Top h3 {
	margin: 2px 0;
	font-size: 18px;
	color: #393939;
	font-weight: normal;
}

.Article .Top h3 a {
	text-decoration: none;
}

.Article .Top .Tags a {
	margin-left: 5px;
	text-decoration: none;
}

.Article .Top .Tags a.tag {
	background: #46A6D2;
	color: white;
	padding: 2px 5px;
}

.Article .Top .Tags a.tag:hover {
	background-color: #3a7bd2;
}

.Article .Top .rec_user {
	height: 22px;
	line-height: 22px;
}

.Article .Top .rec_user a {
	text-decoration: none;
}

.Article .Top .rec_user .share a {
	width: 16px;
	height: 16px;
	text-decoration: none;
	display: inline-block;
	zoom: 1;
	vertical-align: middle;
	margin-left: 5px;
}

.Article .Top .rec_user .share .sina {
	background: url(/img/sina_weibo.png) no-repeat;
}

.Article .Top .rec_user .share .tencent {
	background: url(/img/tencent_weibo.png) no-repeat;
}

.Article .Top .rec_user .options {
	float: right;
}

.Article .Top .Vote {
	float: right;
	margin-right: 20px;
	padding: 5px;
	background: #005075;
	color: #FFF;
	width: 54px;
	text-align: center;
	display: block;
}

.Article .Top .Vote a {
	font-size: 16pt;
	color: #FFF;
	display: block;
	border-top: 1px solid #073f59;
	text-decoration: none;
}

.Article .Top .Vote a:hover {
	color: #ff0;
}

.Article .Top .Vote em {
	font-size: 12pt;
	font-style: normal;
	padding-bottom: 5px;
	border-bottom: 1px solid #04608a;
	display: block;
}

.Article .toolbar {
	overflow: hidden;
	padding: 5px 0 5px 5px;
	color: #6A6A6A;
	border-left: 1px solid #EDEDED;
	border-right: 1px solid #EDEDED;
}

.Article .toolbar a {
	text-decoration: none;
}

.Article .toolbar .label {
	float: left;
	width: 100px;
}

.Article .toolbar em {
	color: #A3A3A3;
	font-style: normal;
	font-size: 12px;
}

.Article .toolbar a.t_user {
	
}

.Article .toolbar .options {
	float: right;
	width: 260px;
	text-align: right;
	padding-right: 5px;
}

.Article .toolbar .options a.selected {
	color: #b90000;
	font-weight: bold;
}

.Article .toolbar .contributers {
	width: 610px;
	float: left;
}

.Article .Tags {
	line-height: 22px;
}

.Article .copyright {
	background: #efe;
	text-align: left;
	margin: 20px 10px;
	padding: 3px 0 3px 10px;
	color: #333;
	font-size: 10pt;
	line-height: 22px;
	border-left: 10px solid #CFC;
}

.Article .Body {
	border: 1px solid #EDEDED;
}

.Article .Body .paragraph_eng {
	background: #FFF;
	padding: 10px 0;
	border: 1px solid #F9F9F9;
}

.Article .Body .paragraph_eng .TextContent {
	width: 750px;
	padding: 0 10px;
	font-size: 10pt;
	line-height: 180%;
	overflow: hidden;
}

.Article .Body .paragraph_eng .TextContent span {
	margin: 0 2px;
}

.Article .Body .paragraph_eng .translaters {
	width: 210px;
	padding: 0 6px;
}

.Article .Body .translate_chs {
	padding: 0;
	border: 3px solid #F9F9F9;
}

.Article .Body .translate_chs .bdt10 {
	border-top: medium double #E3E3E3;
}

.Article .Body .bd10 {
	border: 1px solid #A00;
}

.Article .Body .paragraph_chs {
	background: #FFF;
	padding: 10px 0;
}

.Article .Body .paragraph_chs .TextContent {
	width: 750px;
	font-size: 10.5pt;
	padding: 0 10px;
	overflow: hidden;
}

.Article .Body .paragraph_chs .translater {
	width: 210px;
	padding: 0 6px;
}

.translaters h3 {
	color: #686868;
	font-size: 14px;
	font-weight: normal;
	margin: 2px 0;
}

.translaters ul {
	margin: 10px 0;
}

.translaters ul li {
	text-align: center;
	margin: 0 3px 5px 0px;
	width: 45px;
	height: 48px;
	float: left;
	overflow: hidden;
	font-size: 7pt;
}

.translaters ul li a {
	text-decoration: none;
}

.translaters ul li img {
	width: 24px;
	height: 24px;
	border: 1px solid #ddd;
	padding: 2px;
	background: #fff;
}

.translaters ul li a:hover img {
	border: 1px solid #40AA53;
}

a.TBUTTON {
	text-decoration: none;
	background: #4E867B;
	border: none;
	color: #FFF;
	font-size: 18px;
	padding: 4px 14px;
	margin-right: 3px;
}

a.TBUTTON:hover {
	background: #4f978a;
}

input.TBUTTON {
	background: #4E867B;
	border: none;
	color: #FFF;
	font-size: 18px;
	padding: 4px 14px;
	margin-right: 3px;
	cursor: pointer;
}

input.TBUTTON:hover {
	background: #4f978a;
}

.translater a {
	text-decoration: none;
}

.translater a img {
	float: left;
	width: 46px;
	height: 46px;
	border: 1px solid #ddd;
	padding: 2px;
	margin-top: 5px;
	background: #fff;
}

.translater .info {
	float: left;
	margin: 0 10px;
	width: 126px;
	height: 45px;
}

.translater .info h6 {
	font-weight: normal;
	font-size: 10pt;
	color: #444;
}

.translater .info p {
	color: #666;
	margin: 5px 0;
}

.translater .info p em {
	color: #A00;
	margin: 0 2px;
}

.translater .vote {
	height: 30px;
	line-height: 30px;
	margin-top: 20px;
	color: #666;
}

.translater a.showOthers {
	padding-left: 20px;
	background: url(/img/translate.gif) 0 -218px no-repeat;
	font-size: 10pt;
	height: 30px;
	line-height: 30px;
}

.translater a.closeOthers {
	background: url(/img/translate.gif) 0 -250px no-repeat;
}

.EditTop {
	width: 99%;
	text-align: left;
	margin: 0 auto;
}

.Edit .Top {
	margin-top: 10px;
	padding: 10px;
	background: #EDEDED;
	color: #666;
}

.Edit .Top h1 {
	font-size: 20px;
	line-height: 26px;
	font-weight: normal;
	color: #333;
}

.Edit .Top h3 {
	margin: 2px 0;
	font-size: 14px;
	color: #393939;
	font-weight: normal;
}

.Edit .Top h3 a {
	text-decoration: none;
}

.Edit .Body {
	margin-top: 10px;
	padding: 10px;
	background: #EDEDED;
}

.Edit .Body .p_content {
	float: left;
	width: 49%;
	height: 650px;
}

.Edit .Body .p_content .title {
	height: 28px;
	line-height: 28px;
	font-size: 12pt;
	text-align: center;
}

.Edit .Body .p_content .title h3 {
	color: #666;
	font-weight: normal;
}

.Edit .Body .p_content .title a {
	text-decoration: underline;
}

.Edit .Body .p_content .title .prev {
	float: left;
}

.Edit .Body .p_content .title .next {
	float: right;
}

.Edit .Body .p_content .TextContent {
	height: 572px;
	padding: 5px;
	border: 1px solid #CCC;
	overflow-y: auto;
	overflow-x: hidden;
	background: #F6F6F6;
	font-size: 10pt;
}

.Edit .Body .p_editor {
	float: right;
	width: 49.5%;
	height: 650px;
}

.Edit .Body .p_toolbar {
	float: left;
	height: 650px;
	line-height: 650px;
	text-align: center;
	width: 1.3%;
}

.Edit .Body .p_toolbar a {
	text-decoration: none;
	width: 100%;
	background: #4E867B;
	color: white;
	font-size: 8pt;
	-moz-border-radius: 2px;
	border-radius: 2px;
	-webkit-border-radius: 2px;
}

.Edit .action {
	margin-top: 20px;
	float: right;
}

.Bottom {
	margin: 20px 0;
}

.Bottom .comments {
	float: left;
	width: 680px;
}

.comments h2 {
	font-size: 12pt;
	border-bottom: medium double #E3E3E3;
	margin: 5px;
	padding: 0 0 3px 5px;
}

.comments h2 span {
	margin-left: 10px;
	color: #444;
	font-size: 10pt;
	font-weight: normal;
}

.comments h2 em.reply_count {
	font-style: normal;
	color: #A00;
}

.comments h2 .more {
	float: right;
	font-weight: normal;
	font-size: 10pt;
	color: #666;
}

.comments .comment {
	margin: 5px 0 15px 0;
	padding: 5px 0 5px 5px;
	border-bottom: 1px dashed #ddd;
}

.comments .comment .user {
	float: left;
	width: 40px;
	margin: 0 12px 0 0;
	font-size: 9pt;
	color: #666;
}

.comments .comment .user img {
	width: 32px;
	height: 32px;
	margin: 3px 0 0 0;
}

.comments .comment .body {
	float: left;
	width: 620px;
}

.comments .comment .body .time {
	float: left;
	width: 380px;
	font-size: 9pt;
	color: #666;
}

.comments .comment .body .time a {
	color: #999;
}

.comments .comment .body .time a:hover {
	background: #666;
	color: #fff;
}

.comments .comment .body .opts {
	float: right;
	width: 190px;
	font-size: 9pt;
	text-align: right;
}

.comments .comment .body .opts a {
	color: #999;
	padding: 0 2px;
}

.comments .comment .body .opts a:hover {
	background: #666;
	color: #fff;
}

.comments .comment .body .detail {
	margin: 10px 0;
	font-size: 10.5pt;
}

.comments .comment .body .detail div.ref {
	border: 1px solid #999;
	margin: 0 0 10px 0;
	padding: 3px;
	font-size: 9pt;
	color: #333;
	background: #ffe;
}

.comments .comment .body .detail div.ref h4 {
	margin: 0;
	padding: 2px 0px 3px 0px;
	color: #1E50A2;
	font-size: 9pt;
	font-weight: normal;
}

.comments .comment .body .detail div.ref .ref_body {
	margin: 0;
	padding: 2px;
	line-height: 20px;
	color: #666;
	font-size: 9pt;
	color: #333;
}

.comments .comment .body .detail div.ref .ref_body img {
	display: none;
	width: 0;
	height: 0;
}

.comments .pager {
	margin-left: 60px;
}

.commentForm {
	margin: 20px 0;
}

.commentForm .user {
	float: left;
	width: 60px;
}

.commentForm .user img {
	width: 32px;
	height: 32px;
	margin: 0 0 0 5px;
}

.commentForm form {
	float: left;
}

.commentForm form textarea {
	border: 1px solid #999;
}

.commentForm form input.SUBMIT {
	font-size: 18px;
	padding: 4px 10px;
	margin: 10px 0;
	float: right;
}

.myList table {
	margin: 10px;
	font-size: 10pt;
	table-layout: fixed;
}

.myList table td {
	vertical-align: top;
	overflow: hidden;
}

.myList a {
	text-decoration: none;
}

.myList .title {
	
}

.myList .title a {
	text-decoration: none;
	color: #46B;
}

.myList .title span {
	font-size: 9pt;
	color: #999;
}

.myList .vote {
	width: 50px;
	font-size: 9pt;
	color: #999;
}

.myList .date {
	width: 70px;
	font-size: 9pt;
	color: #999;
}

.myList .opts {
	width: 100px;
	text-align: right;
	color: #999;
}

.myList .pager {
	margin: 0 10px 10px 10px;
}

.cmptable {
	table-layout: fixed;
	background: #EDEDED;
}

.cmptable td.eng {
	background-color: #FFFFFF;
	padding: 5px;
	overflow: hidden;
	font-size: 10pt;
	line-height: 1.5;
}

.cmptable td.chs {
	background-color: #FFFFFF;
	padding: 5px;
	overflow: hidden;
	font-size: 10.5pt;
	line-height: 1.5;
}

.cmptable td p {
	margin: 10px 0;
}

.cmptable td .infoicon {
	float: right;
	background: #EBEBEB;
	height: 20px;
	padding: 0 6px;
	line-height: 20px;
	z-index: 999;
	text-align: center;
	font-size: 11px;
	color: #060;
	border-radius: 3px;
	cursor: pointer;
}

.cmptable td .infoicon img {
	margin-left: 5px;
	vertical-align: middle;
	padding-top: 2px;
}

.cmptable td .infocard {
	position: absolute;
	top: 30px;
	right: 0px;
	padding: 5px 10px;
	font-size: 10pt;
	border-radius: 8px;
	z-index: 100;
	background: #EDEDED;
	display: none;
}

.cmptable td .infocard h1 {
	height: 20px;
	line-height: 20px;
	font-size: 15px;
	color: #666;
	margin-bottom: 5px;
	border-bottom: 1px dotted #CCC;
}

.cmptable td .infocard h1 a.close {
	float: right;
	font-size: 6pt;
}

.cmptable td .infocard h1 a.close img {
	width: 15px;
	height: 15px;
}

.cmptable td .infocard a {
	text-decoration: none;
}

.cmptable td .infocard a img {
	float: left;
	width: 50px;
	height: 50px;
}

.cmptable td .infocard .text {
	float: left;
	margin-left: 10px;
}

.cmptable td .infocard h6 {
	font-weight: normal;
	font-size: 10pt;
	color: #444;
}

.cmptable td .infocard p {
	color: #666;
	margin: 0;
	padding: 0;
}

.cmptable td .infocard p em {
	color: #A00;
	margin: 0 2px;
}

.cmptable td  ol {
	list-style-type: decimal;
	margin: 0.5em 0 0.5em 1.5em;
	line-height: 1.5em;
}

.cmptable td  ul {
	list-style-type: disc;
	margin: 0.5em 0 0.5em 1.5em;
	line-height: 1.5em;
}

.QuestionHeader {
	height: 34px;
	border-bottom: 1px solid #40AA53;
	margin: 0 0 15px 0;
}

.QuestionHeader #portrait {
	float: left;
	width: 35px;
}

.QuestionHeader #portrait img {
	width: 24px;
	height: 24px;
}

.QuestionHeader #switcher {
	float: left;
	margin: 5px 0 0 2px;
}

.QuestionHeader #switcher h1 {
	font-size: 12pt;
	float: left;
	color: #666;
}

.QuestionHeader #switcher h1 a {
	text-decoration: none;
}

.QuestionHeader #switcher h1 em {
	font-style: normal;
	color: #40AA53;
}

.QATip {
	margin: 40px 0 50px 100px;
}

.QATip h1 {
	font-size: 13.5pt;
}

.QATip h1 em {
	color: #A00;
	font-style: normal;
}

.QATip .text {
	margin: 20px 0 20px 20px;
	font-size: 11pt;
}

.QATip .text p.hint {
	color: #A00;
	font-size: 10pt;
	margin-top: 10px;
}

.QATip .text ul {
	margin: 10px 0 0 0;
	list-style-type: disc;
	list-style-position: inside;
	line-height: 24px;
}

.QATip .btn_view {
	margin-left: 20px;
}

.AllTags {
	padding-bottom: 10px;
}

.AllTags ul.tagList {
	margin: 10px;
}

.AllTags ul.tagList li {
	float: left;
	width: 24%;
}

.AllTags ul.tagList li .stat {
	color: #666;
	font-size: 8pt;
	-webkit-text-size-adjust: none;
}

.AllTags a.tag,.PopularTags a.tag {
	background-color: #E0EAF1;
	border-bottom: 1px solid #3E6D8E;
	border-right: 1px solid #7F9FB6;
	color: #3E6D8E;
	font-size: 8pt;
	-webkit-text-size-adjust: none;
	line-height: 2.4;
	margin: 2px 2px 2px 0;
	padding: 2px 4px;
	text-decoration: none;
	white-space: nowrap;
}

.AllTags a.tag em,.PopularTags a.tag em {
	font-style: normal;
	color: #666;
	font-size: 7pt;
	margin-left: 2px;
}

.AllTags a.tag:hover,.PopularTags a.tag:hover {
	background-color: #3E6D8E;
	color: #fff;
}

.AllTags a.tag:hover em,.PopularTags a.tag:hover em {
	color: #fff;
}

.AllTags .pager {
	margin: 0 10px;
}</style>
<div class="Article">
	<div class="Top">
		<div class="Vote"><em id="vote_count">7</em><a href="javascript:vote_article(2072);">顶</a></div>
		<h1>
            Spring Integration 4.0: 一个完全无需 XML 的示例
                    </h1>
		<h3>英文原文：<a href="http://xpadro.blogspot.com.es/2014/05/spring-integration-40-complete-xml-free.html" target="_blank">Spring Integration 4.0: A complete XML-free example</a></h3>
        <div class="Tags">
		<strong>标签：</strong>
						<a href="http://www.oschina.net/translate/tag/spring+integration" class="tag project" data-id="7151" title="Spring消息通信 Spring Integration">Spring Integration</a> 		        		</div>
		<div class="rec_user">
            <span class="options">
                                <style>
#TagsSwitcher{color:#A00;}
#RecTags,#MyTags{margin:5px 0;}
#RecTags a.tag{line-height:24px;}
#favor_form p:first-child{margin:5px 0;}
#favor_form{width:200px;}
#favor_form p {color:#666;}
#favor_form form{min-height: 85px;width:200px;}
#favor_form form ._favor_input{display:block;margin:2px 0;width:199px;}
#favor_form form ._favor_button{float:left;padding:2px 5px;}
.favor_ok {text-align:center;font-size:10.5pt;width:199px;height:60px;margin-top:10px;}
#TagsSwitcher{cursor:pointer;float:right;margin-top:10px;}
#MyTags{display:none;width:199px;}
#MyTags a.tag {float:left; background-color: #E0EAF1;border-bottom: 1px solid #3E6D8E;border-right: 1px solid #7F9FB6;color: #3E6D8E;font-size: 8pt;line-height: 16px;margin: 2px 2px 2px 0;padding: 2px 4px;text-decoration: none;white-space: nowrap;}
#MyTags a.tag:hover{background-color: #3E6D8E;color: #FFF;}
</style>
<script type="text/javascript">
var favor_add = "<a href='javascript:add_to_favor(2072,7)' id='favor_trigger' title='添加到收藏夹'>我要收藏</a>";
var favor_del = "<a href='javascript:delete_favor(2072,7)' id='favor_trigger' style='color:#a00;'>取消收藏</a>";
var favor_ok = "<p class='favor_ok'>已成功添加到收藏夹<br/><br/> <a href='null/favorites?type=7'>我的收藏夹</a> | <a href='javascript:close_favor()'>关闭</a></p>";
function delete_favor(obi_id, obj_type){
	$('#attention_it').html(favor_add);
	$("#p_attention_count").load("/action/favorite/cancel?type="+obj_type+"&id="+obi_id, {user: ''});
}
function add_to_favor(obj_id, obj_type){
	if(confirm('必须登录后才能收藏，是否现在登录？')){
		location.href="http://www.oschina.net/home/login?goto_page="+encodeURIComponent(location.href);
	}
}
function close_favor(elem_id){
    $('#favor_trigger').poshytip('destroy');
}
function setTag(tv){
	var t = $("._favor_input");
	var value = t.val();
	var tags = value.replace(/，/ig,',').split(',');
	var exist = false;
	value = $.map(tags,function(v,i){
		if($.trim(tv) == $.trim(v)){
			exist = true;
			return undefined;
		}
		return v;
	}).join(',');
	if(exist){
		t.val(value);
		return;
	}
	if(value!="")
		t.val(value+","+tv);
	else
		t.val(tv)
}
function ltrim(str){
    var whitespace = new String(" \t\n\r");
    var s = new String(str);
    if (whitespace.indexOf(s.charAt(0)) != -1){
        var j=0, i = s.length;
        while (j < i && whitespace.indexOf(s.charAt(j)) != -1){
            j++;
        }
        s = s.substring(j, i);
    }
    return s;
}

function rtrim(str){
    var whitespace = new String(" \t\n\r");
    var s = new String(str);
    if (whitespace.indexOf(s.charAt(s.length-1)) != -1){
        var i = s.length - 1;
        while (i >= 0 && whitespace.indexOf(s.charAt(i)) != -1){
            i--;
        }
        s = s.substring(0, i+1);
    }
    return s;
}
 
function trim(str){
    return rtrim(ltrim(str));
}
</script>
<em id="p_attention_count">114</em>人收藏此文章,
<span id="attention_it">
	<script type="text/javascript">document.write(favor_add);</script><a href="javascript:add_to_favor(2072,7)" id="favor_trigger" title="添加到收藏夹">我要收藏</a>
</span>
<script type="text/javascript">
	$(document).ready(function(){
    	$.ajax({
    		url:"/action/favorite/attentionUsersCount",
    		type:"get",
    		data:"id="+2072+"&type="+7,
    		success:function(msg){
				$("#p_attention_count").html(msg);
    		}
    	});
	});
</script>            </span>
			<a href="http://my.oschina.net/osadmin" target="_blank">oschina</a> 推荐于 1年前 (共 6 段, 翻译完成于 05-08) (<a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#comments">21评</a>)
            <span class="share">
                                <a class="sina" title="分享到新浪微博" href="javascript:void((function(s,d,e,r,l,p,t,z,c){var%20f='http://v.t.sina.com.cn/share/share.php?appkey=858381728',u=z||d.location,p=['&url=',e(u),'&title=',e(t||d.title),'&source=',e(r),'&sourceUrl=',e(l),'&content=',c||'gb2312','&pic=',e(p||'')].join('');function%20a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=440,height=430,left=',(s.width-440)/2,',top=',(s.height-430)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent))setTimeout(a,0);else%20a();})(screen,document,encodeURIComponent,'','','','Spring Integration 4.0: 一个完全无需 XML 的示例 - 技术翻译: 1   介绍 Spring Integration 4.0 终于 到来了, 而这一次发布带来了非常棒的特性. 本文中讲到的这个特性是完全不使用XML来配置一个集成流的可能性. 那些不喜欢XML的人...','','utf-8'));"></a><a class="tencent" title="分享到腾讯微博" href="javascript:(function(){window.open('http://v.t.qq.com/share/share.php?url='+encodeURIComponent(document.location)+'&appkey=96f54f97c4de46e393c4835a266207f4&site=&title='+encodeURIComponent(document.title)+encodeURIComponent(': 1   介绍 Spring Integration 4.0 终于 到来了, 而这一次发布带来了非常棒的特性. 本文中讲到的这个特性是完全不使用XML来配置一个集成流的可能性. 那些不喜欢XML的人...'),'', 'width=450, height=400, top=0, left=0, toolbar=no, menubar=no, scrollbars=no, location=yes, resizable=no, status=no');}())"></a>
            </span>
		</div>
		<div class="clear"></div>
	</div>
		<div class="toolbar">
				<span class="label">参与翻译<em>(1人)</em>：</span>
        <div class="contributers"><a href="http://my.oschina.net/xuleo" target="_blank" class="t_user">leoxu</a></div>		
				<div class="options">
                    <a href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区.html" class="selected">仅中文</a> | <a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?cmp" target="_blank">中英文对照</a> | <a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?lang=eng">仅英文</a> | <a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?print" target="_blank">打印此文章</a>
                </div>
	</div>
			<div class="Body" style="position:relative;">
								                    <div id="translate_32838" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_1_5"><span style="color:#0B5394;">1 &nbsp; 介绍</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">Spring Integration 4.0 终于&nbsp;<a href="https://spring.io/blog/2014/04/30/spring-integration-4-0-released" target="_blank" rel="nofollow">到来了</a>, 而这一次发布带来了非常棒的特性. 本文中讲到的这个特性是完全不使用XML来配置一个集成流的可能性. 那些不喜欢XML的人们将可以只使用JavaConfig开发一个集成应用程序.</p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">本文分成如下几个部分:</p> 
<ol> 
 <li><p>介绍.</p></li> 
 <li><p>流的概述.</p></li> 
 <li><p>Spring 配置.</p></li> 
 <li><p>端点的详细信息.</p></li> 
 <li><p>测试整个流.</p></li> 
 <li><p>总结.</p></li> 
</ol> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;"><br> 可以在&nbsp;<a href="https://github.com/xpadro/spring-integration/tree/master/int-v4-full" target="_blank" rel="nofollow">github</a>&nbsp;上找到本文相关的源代码.<br> <br> 在这个示例中被调用的web服务的源代码可以在&nbsp;<a href="https://github.com/xpadro/spring-samples/tree/master/spring-ws-courses" target="_blank" rel="nofollow">github</a>&nbsp;上的 srping-samples资源库中找到.</p></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32844">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32844);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        		                    <div id="translate_32839" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_2_5"><span style="color:#0B5394;">2 &nbsp; 流的概述</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">这个示例应用程序展示了如何配置一些消息和集成端点. 用户通过一个course的Id请求一个 course . 流将会调用一个web服务并向用户做出回应. 此外，一些类型的course将会被存储到一个数据库中.&nbsp;<br> <br> 这个流如下所示:</p> 
<ul> 
 <li><p>一个集成的&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/messaging-endpoints-chapter.html#gateway" target="_blank" rel="nofollow">网关&nbsp;</a>(course 服务) 为消息系统提供词条的服务.</p></li> 
 <li><p>一个&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/messaging-transformation-chapter.html#transformer" target="_blank" rel="nofollow">转换器</a>&nbsp;构建来自用户指定的course Id的请求消息.</p></li> 
 <li><p>一个web服务的&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/ws.html#webservices-outbound" target="_blank" rel="nofollow">出站网关</a>&nbsp;将请求发送到一个web服务并等待其回应.</p></li> 
 <li><p>一个&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/messaging-endpoints-chapter.html#service-activator" target="_blank" rel="nofollow">服务执行器</a>&nbsp;被注册到回应通道，以向用户返回course的名称.</p></li> 
 <li><p>一个&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/messaging-routing-chapter.html#filter" target="_blank" rel="nofollow">过滤器</a>&nbsp;也会被注册到回应通道. 这个过滤器会发送一些类型的course到一个mongodb&nbsp;<a href="http://docs.spring.io/spring-integration/docs/4.0.0.RELEASE/reference/html/mongodb.html#mongodb-outbound-channel-adapter" target="_blank" rel="nofollow">通道适配器</a>&nbsp;以将回应存储到一个数据库.</p></li> 
</ul> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;"><br> 下图较好的展示了这个流是如何构造的:<br> <img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/063617_aGFQ_12.png"> </p></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32845">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32845);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        		                    <div id="translate_32840" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_3_5"><span style="color:#0B5394;">3 &nbsp; Spring 配置</span><br> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">如在介绍一节所讨论的，整个配置都是用JavaConfig来配置. 这一配置被分成了三个文件：基础设施，web服务以及数据库配置. 让我们来一瞧究竟:</p> 
<h3 id="content_h3_3_9"><span style="color:#0B5394;">3.1 &nbsp; 基础设施配置</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">这个配置文件值包含了消息通道的定义. 消息端点（转换器，过滤器等等..）是用了注解来配置.<br> <br> <strong>InfrastructureConfiguration.java</strong> </p> 
<div><div id="highlighter_684088" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Configuration</code></div><div class="line number2 index1 alt1"><code class="java color1">@ComponentScan</code><code class="java plain">(</code><code class="java string">"xpadro.spring.integration.endpoint"</code><code class="java plain">)&nbsp;&nbsp;&nbsp; </code><code class="java comments">//@Component</code></div><div class="line number3 index2 alt2"><code class="java color1">@IntegrationComponentScan</code><code class="java plain">(</code><code class="java string">"xpadro.spring.integration.gateway"</code><code class="java plain">)&nbsp; </code><code class="java comments">//@MessagingGateway</code></div><div class="line number4 index3 alt1"><code class="java color1">@EnableIntegration</code></div><div class="line number5 index4 alt2"><code class="java color1">@Import</code><code class="java plain">({MongoDBConfiguration.</code><code class="java keyword">class</code><code class="java plain">,&nbsp;WebServiceConfiguration.</code><code class="java keyword">class</code><code class="java plain">})</code></div><div class="line number6 index5 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">InfrastructureConfiguration&nbsp;{</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Description</code><code class="java plain">(</code><code class="java string">"Entry&nbsp;to&nbsp;the&nbsp;messaging&nbsp;system&nbsp;through&nbsp;the&nbsp;gateway."</code><code class="java plain">)</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageChannel&nbsp;requestChannel()&nbsp;{</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java keyword">new</code>&nbsp;<code class="java plain">DirectChannel();</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Description</code><code class="java plain">(</code><code class="java string">"Sends&nbsp;request&nbsp;messages&nbsp;to&nbsp;the&nbsp;web&nbsp;service&nbsp;outbound&nbsp;gateway"</code><code class="java plain">)</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageChannel&nbsp;invocationChannel(</code><code class="java color1">@Qualifier</code><code class="java plain">(</code><code class="java string">"wsOutboundGateway"</code><code class="java plain">)&nbsp;MessageHandler&nbsp;wsOutboundGateway)&nbsp;{</code></div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">DirectChannel&nbsp;channel&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">DirectChannel();</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">channel.subscribe(wsOutboundGateway);</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">channel;</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Description</code><code class="java plain">(</code><code class="java string">"Sends&nbsp;web&nbsp;service&nbsp;responses&nbsp;to&nbsp;both&nbsp;the&nbsp;client&nbsp;and&nbsp;a&nbsp;database"</code><code class="java plain">)</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageChannel&nbsp;responseChannel()&nbsp;{</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java keyword">new</code>&nbsp;<code class="java plain">PublishSubscribeChannel();</code></div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Description</code><code class="java plain">(</code><code class="java string">"Stores&nbsp;non&nbsp;filtered&nbsp;messages&nbsp;to&nbsp;the&nbsp;database"</code><code class="java plain">)</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageChannel&nbsp;storeChannel(</code><code class="java color1">@Qualifier</code><code class="java plain">(</code><code class="java string">"mongodbAdapter"</code><code class="java plain">)&nbsp;MessageHandler&nbsp;mongoOutboundAdapter)&nbsp;{</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">DirectChannel&nbsp;channel&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">DirectChannel();</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">channel.subscribe(mongoOutboundAdapter);</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">channel;</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number37 index36 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">@ComponentScan 注解会搜索使用了 @Component 注解的类, 这种类是我们定义的消息端点; 过滤器，转换器以及服务执行器.<br> <br> @IntegrationComponentScan 注解搜索指定的集成注解. 在我们的示例中，它将会扫描到使用<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">@MessagingGateway注解的</span>词条网关.<br> <br> @EnableIntegration 注解启动了集成配置. 例如，像<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">@Transformer 或者 @Filter这种</span>方法级别的注解.</p></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32846">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32846);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        		                    <div id="translate_32841" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_4_5"><span style="color:#0B5394;">3.2 &nbsp; Web 服务配置</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">这一配置文件配置的web服务的出站请求网关及其所需要的编组.<br> <br> <strong>WebServiceConfiguration.java</strong> </p> 
<div><div id="highlighter_302630" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Configuration</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">WebServiceConfiguration&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageHandler&nbsp;wsOutboundGateway()&nbsp;{</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">MarshallingWebServiceOutboundGateway&nbsp;gw&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">MarshallingWebServiceOutboundGateway(</code><code class="java string">"http://localhost:8080/spring-ws-courses/courses"</code><code class="java plain">,&nbsp;jaxb2Marshaller());</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">gw.setOutputChannelName(</code><code class="java string">"responseChannel"</code><code class="java plain">);</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">gw;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">Jaxb2Marshaller&nbsp;jaxb2Marshaller()&nbsp;{</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Jaxb2Marshaller&nbsp;marshaller&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">Jaxb2Marshaller();</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">marshaller.setContextPath(</code><code class="java string">"xpadro.spring.integration.ws.types"</code><code class="java plain">);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">marshaller;</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number19 index18 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">网关可以让我们定义它的输出通道，而不是它的输入通道. 我可以将网关注册到通道来做到(见前面小节的invocationChannel 定义）.</p> 
<h3 id="content_h3_4_14"><span style="color:#0B5394;">3.3 &nbsp; 数据库配置</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">这一配置文件定义了所有用来设置&nbsp;<a href="https://www.mongodb.org/" target="_blank" rel="nofollow">mongoDB</a>&nbsp;所必需的bean. 它也定义了 mongoDB 出站通道适配器.<br> <br> <strong>MongoDBConfiguration.java</strong> </p> 
<div><div id="highlighter_104216" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Configuration</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">MongoDBConfiguration&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MongoDbFactory&nbsp;mongoDbFactory()&nbsp;</code><code class="java keyword">throws</code>&nbsp;<code class="java plain">Exception&nbsp;{</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java keyword">new</code>&nbsp;<code class="java plain">SimpleMongoDbFactory(</code><code class="java keyword">new</code>&nbsp;<code class="java plain">MongoClient(),&nbsp;</code><code class="java string">"si4Db"</code><code class="java plain">);</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Bean</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">MessageHandler&nbsp;mongodbAdapter()&nbsp;</code><code class="java keyword">throws</code>&nbsp;<code class="java plain">Exception&nbsp;{</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">MongoDbStoringMessageHandler&nbsp;adapter&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">MongoDbStoringMessageHandler(mongoDbFactory());</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">adapter.setCollectionNameExpression(</code><code class="java keyword">new</code>&nbsp;<code class="java plain">LiteralExpression(</code><code class="java string">"courses"</code><code class="java plain">));</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">adapter;</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number16 index15 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">像是web服务的网关，我们不能为适配器设置输出通道. 同样也可以通过将其注册到存储通道来做到.</p></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32847">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32847);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        		                    <div id="translate_32842" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_5_5"><span style="color:#0B5394;">4 &nbsp; 端点的详细信息</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">流的第一个端点是集成网关，它将会把参数（courseId)放到一个消息的载荷中，并将其发送到请求通道.</p> 
<div><div id="highlighter_172483" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@MessagingGateway</code><code class="java plain">(name&nbsp;=&nbsp;</code><code class="java string">"entryGateway"</code><code class="java plain">,&nbsp;defaultRequestChannel&nbsp;=&nbsp;</code><code class="java string">"requestChannel"</code><code class="java plain">)</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">interface</code>&nbsp;<code class="java plain">CourseService&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">String&nbsp;findCourse(String&nbsp;courseId);</code></div><div class="line number5 index4 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">包含courseId的消息将会抵达转换器. 这个端点将构建web服务所需要的请求对象</p> 
<div><div id="highlighter_575066" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Component</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">CourseRequestBuilder&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code>&nbsp;<code class="java plain">Logger&nbsp;logger&nbsp;=&nbsp;LoggerFactory.getLogger(</code><code class="java keyword">this</code><code class="java plain">.getClass());</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Transformer</code><code class="java plain">(inputChannel=</code><code class="java string">"requestChannel"</code><code class="java plain">,&nbsp;outputChannel=</code><code class="java string">"invocationChannel"</code><code class="java plain">)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">GetCourseRequest&nbsp;buildRequest(Message&lt;String&gt;&nbsp;msg)&nbsp;{</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">logger.info(</code><code class="java string">"Building&nbsp;request&nbsp;for&nbsp;course&nbsp;[{}]"</code><code class="java plain">,&nbsp;msg.getPayload());</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">GetCourseRequest&nbsp;request&nbsp;=&nbsp;</code><code class="java keyword">new</code>&nbsp;<code class="java plain">GetCourseRequest();</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">request.setCourseId(msg.getPayload());</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">request;</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number13 index12 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">注册到web服务回应将会被发送出去的回应通道，将会有一个服务执行器接受回应消息并向客户机传送course名称:</p> 
<div><div id="highlighter_82623" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Component</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">CourseResponseHandler&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code>&nbsp;<code class="java plain">Logger&nbsp;logger&nbsp;=&nbsp;LoggerFactory.getLogger(</code><code class="java keyword">this</code><code class="java plain">.getClass());</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@ServiceActivator</code><code class="java plain">(inputChannel=</code><code class="java string">"responseChannel"</code><code class="java plain">)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java plain">String&nbsp;getResponse(Message&lt;GetCourseResponse&gt;&nbsp;msg)&nbsp;{</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">GetCourseResponse&nbsp;course&nbsp;=&nbsp;msg.getPayload();</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">logger.info(</code><code class="java string">"Course&nbsp;with&nbsp;ID&nbsp;[{}]&nbsp;received:&nbsp;{}"</code><code class="java plain">,&nbsp;course.getCourseId(),&nbsp;course.getName());</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java plain">course.getName();</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number12 index11 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">同样<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">如果course需要被存储到一个数据库，一个<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">过滤器就会</span></span>注册到回应通道, 基于它的类型来做出决定，:</p> 
<div><div id="highlighter_712690" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@Component</code></div><div class="line number2 index1 alt1"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">StoredCoursesFilter&nbsp;{</code></div><div class="line number3 index2 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code>&nbsp;<code class="java plain">Logger&nbsp;logger&nbsp;=&nbsp;LoggerFactory.getLogger(</code><code class="java keyword">this</code><code class="java plain">.getClass());</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Filter</code><code class="java plain">(inputChannel=</code><code class="java string">"responseChannel"</code><code class="java plain">,&nbsp;outputChannel=</code><code class="java string">"storeChannel"</code><code class="java plain">)</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java keyword">boolean</code>&nbsp;<code class="java plain">filterCourse(Message&lt;GetCourseResponse&gt;&nbsp;msg)&nbsp;{</code></div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code>&nbsp;<code class="java plain">(!msg.getPayload().getCourseId().startsWith(</code><code class="java string">"BC-"</code><code class="java plain">))&nbsp;{</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">logger.info(</code><code class="java string">"Course&nbsp;[{}]&nbsp;filtered.&nbsp;Not&nbsp;a&nbsp;BF&nbsp;course"</code><code class="java plain">,&nbsp;msg.getPayload().getCourseId());</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java keyword">false</code><code class="java plain">;</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">logger.info(</code><code class="java string">"Course&nbsp;[{}]&nbsp;validated.&nbsp;Storing&nbsp;to&nbsp;database"</code><code class="java plain">,&nbsp;msg.getPayload().getCourseId());</code></div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code>&nbsp;<code class="java keyword">true</code><code class="java plain">;</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number15 index14 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32848">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32848);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        		                    <div id="translate_32843" class="translate_chs">
<table class="paragraph_chs">
    <tbody><tr>
        <td style="border-right:1px solid #E3E3E3;"><div class="TextContent"><h3 id="content_h3_6_5"><span style="color:#0B5394;">5 &nbsp; 测试整个流</span><br> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">下面的客户机将会受到两个请求：一个BC类型的course请求将会被存储到数据库，还有一个DF类型的course将会最终被过滤掉:</p> 
<div><div id="highlighter_769883" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java color1">@RunWith</code><code class="java plain">(SpringJUnit4ClassRunner.</code><code class="java keyword">class</code><code class="java plain">)</code></div><div class="line number2 index1 alt1"><code class="java color1">@ContextConfiguration</code><code class="java plain">(classes={InfrastructureConfiguration.</code><code class="java keyword">class</code><code class="java plain">})</code></div><div class="line number3 index2 alt2"><code class="java keyword">public</code>&nbsp;<code class="java keyword">class</code>&nbsp;<code class="java plain">TestApp&nbsp;{</code></div><div class="line number4 index3 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Autowired</code></div><div class="line number5 index4 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">CourseService&nbsp;service;</code></div><div class="line number6 index5 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Test</code></div><div class="line number8 index7 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code>&nbsp;<code class="java keyword">void</code>&nbsp;<code class="java plain">testFlow()&nbsp;{</code></div><div class="line number9 index8 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String&nbsp;courseName&nbsp;=&nbsp;service.findCourse(</code><code class="java string">"BC-45"</code><code class="java plain">);</code></div><div class="line number10 index9 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">assertNotNull(courseName);</code></div><div class="line number11 index10 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">assertEquals(</code><code class="java string">"Introduction&nbsp;to&nbsp;Java"</code><code class="java plain">,&nbsp;courseName);</code></div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">courseName&nbsp;=&nbsp;service.findCourse(</code><code class="java string">"DF-21"</code><code class="java plain">);</code></div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">assertNotNull(courseName);</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">assertEquals(</code><code class="java string">"Functional&nbsp;Programming&nbsp;Principles&nbsp;in&nbsp;Scala"</code><code class="java plain">,&nbsp;courseName);</code></div><div class="line number16 index15 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number17 index16 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">这将会导致如下的控制台输出:</p> 
<div><div id="highlighter_256185" class="syntaxhighlighter  java"><div class="toolbar"><span><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="java plain">CourseRequestBuilder|Building&nbsp;request&nbsp;</code><code class="java keyword">for</code>&nbsp;<code class="java plain">course&nbsp;[BC-</code><code class="java value">45</code><code class="java plain">]</code></div><div class="line number2 index1 alt1"><code class="java plain">CourseResponseHandler|Course&nbsp;with&nbsp;ID&nbsp;[BC-</code><code class="java value">45</code><code class="java plain">]&nbsp;received:&nbsp;Introduction&nbsp;to&nbsp;Java</code></div><div class="line number3 index2 alt2"><code class="java plain">StoredCoursesFilter|Course&nbsp;[BC-</code><code class="java value">45</code><code class="java plain">]&nbsp;validated.&nbsp;Storing&nbsp;to&nbsp;database</code></div><div class="line number4 index3 alt1"><code class="java plain">CourseRequestBuilder|Building&nbsp;request&nbsp;</code><code class="java keyword">for</code>&nbsp;<code class="java plain">course&nbsp;[DF-</code><code class="java value">21</code><code class="java plain">]</code></div><div class="line number5 index4 alt2"><code class="java plain">CourseResponseHandler|Course&nbsp;with&nbsp;ID&nbsp;[DF-</code><code class="java value">21</code><code class="java plain">]&nbsp;received:&nbsp;Functional&nbsp;Programming&nbsp;Principles&nbsp;in&nbsp;Scala</code></div><div class="line number6 index5 alt1"><code class="java plain">StoredCoursesFilter|Course&nbsp;[DF-</code><code class="java value">21</code><code class="java plain">]&nbsp;filtered.&nbsp;Not&nbsp;a&nbsp;BF&nbsp;course</code></div></div></td></tr></tbody></table></div></div> 
<p></p> 
<h3 id="content_h3_6_14"><span style="color:#0B5394;">6 &nbsp; 总结</span> </h3> 
<p style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">我们已经了解了如何设置并测试一个由<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">Spring Integration驱动的<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">没有使用XML配置的</span>应用程序</span>. 敬请保持关注，因为带有&nbsp;<span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">Spring Integration&nbsp;</span><a href="https://github.com/spring-projects/spring-integration-extensions/tree/master/spring-integration-java-dsl" target="_blank" rel="nofollow">扩展</a><span style="font-family:微软雅黑, Verdana, sans-serif, 宋体;">&nbsp;的</span>&nbsp;Spring Integration Java DSL正在发展中!<br> <br> 我正把我的新文章发布到 Google+ 和 Twitter. 如果你想要看到新内容的更新消息，请关注我吧.</p></div></td>
        <td class="translater" valign="top">
                        <a href="http://my.oschina.net/xuleo" title="leoxu" target="_blank"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/233834_50.jpg" align="absmiddle" alt="leoxu" title="leoxu" class="SmallPortrait" user="233834"></a>
            <div class="info">
                <h6><a href="http://my.oschina.net/xuleo" target="_blank">leoxu</a><br>翻译于 1年前</h6>
                <p><em id="vote_count_32849">0</em>人顶</p>
            </div>
            <div class="clear"></div>
            <p class="vote">
            <a href="javascript:vote_block(32849);" class="rndbutton"><span>顶</span></a>&nbsp;翻译的不错哦!
            			            </p>
        </td>
    </tr>
    </tbody></table>
</div>
        				<div class="copyright">
			本文中的所有译文仅用于学习和交流目的，转载请务必注明文章译者、出处、和本文链接<br>
			我们的翻译工作遵照 <a href="http://zh.wikipedia.org/wiki/Wikipedia:CC" target="_blank">CC 协议</a>，如果我们的工作有侵犯到您的权益，请及时联系我们
		</div>
	</div>
	<div style="margin:10px 0;">
	    </div>
		<div class="Bottom">
		<div class="google_ads" style="float:right;width:300px;">
			<script type="text/javascript"><!--
            google_ad_client = "ca-pub-7090564139599510";
            /* translate-comments */
            google_ad_slot = "8977750911";
            google_ad_width = 300;
            google_ad_height = 250;
            //-->
            </script>
            <script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/show_ads.js">
            </script>
		</div>
		
				<div class="comments">
			<a name="comments"></a>
			<h2>
                <a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#top" class="more">回页面顶部</a><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#commentForm" class="more" style="margin-right:10px;color:#080;">发表评论</a>
                网友评论<span>共<em class="reply_count">21</em>条</span>
            </h2>
						<ul class="list"><li class="comment" id="cmt_2072_229444_16034">
	<div class="user"><a href="http://my.oschina.net/u/229444" name="rpl_16034"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/portrait.gif" align="absmiddle" alt="杨绪磊" title="杨绪磊" class="SmallPortrait" user="229444"></a></div>
	<div class="body">
		<div class="time"><b>杨绪磊</b> 来自 <a href="http://www.oschina.net/mobile" target="_blank">iPhone</a>  发表于 2014-05-14 08:30</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">干啥用的啊</div>
		<div id="inline_reply_of_2072_229444_16034" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_104691_16040">
	<div class="user"><a href="http://my.oschina.net/irjin" name="rpl_16040"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/104691_50.jpg" align="absmiddle" alt="景愿" title="景愿" class="SmallPortrait" user="104691"></a></div>
	<div class="body">
		<div class="time"><b>景愿</b>   发表于 2014-05-14 08:35</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">注解的学习成本不比xml低，最关键的是没有xml的结构清晰。</div>
		<div id="inline_reply_of_2072_104691_16040" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_933947_16048">
	<div class="user"><a href="http://my.oschina.net/std" name="rpl_16048"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/933947_50.jpg" align="absmiddle" alt="子矜" title="子矜" class="SmallPortrait" user="933947"></a></div>
	<div class="body">
		<div class="time"><b>子矜</b>   发表于 2014-05-14 09:06</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">现在看到黄瓜啊，鲍鱼啊，茄子啊，xml啊就想呕，连太阳都是绿的</div>
		<div id="inline_reply_of_2072_933947_16048" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_917036_16049">
	<div class="user"><a href="http://my.oschina.net/u/917036" name="rpl_16049"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/917036_50.jpg" align="absmiddle" alt="愤怒的大菠萝" title="愤怒的大菠萝" class="SmallPortrait" user="917036"></a></div>
	<div class="body">
		<div class="time"><b>愤怒的大菠萝</b>   发表于 2014-05-14 09:15</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><h4>引用来自“子矜”的评论</h4>现在看到黄瓜啊，鲍鱼啊，茄子啊，xml啊就想呕，连太阳都是绿的</div>撸多了</div>
		<div id="inline_reply_of_2072_917036_16049" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_1027040_16050">
	<div class="user"><a href="http://my.oschina.net/wanglin" name="rpl_16050"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/1027040_50.jpg" align="absmiddle" alt="王林JZ" title="王林JZ" class="SmallPortrait" user="1027040"></a></div>
	<div class="body">
		<div class="time"><b>王林JZ</b>   发表于 2014-05-14 09:24</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">过了</div>
		<div id="inline_reply_of_2072_1027040_16050" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_207426_16055">
	<div class="user"><a href="http://my.oschina.net/bigtiger" name="rpl_16055"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/207426_50.jpg" align="absmiddle" alt="bigtiger02" title="bigtiger02" class="SmallPortrait" user="207426"></a></div>
	<div class="body">
		<div class="time"><b>bigtiger02</b>   发表于 2014-05-14 09:39</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><div class="ref"><h4>引用来自“子矜”的评论</h4>现在看到黄瓜啊，鲍鱼啊，茄子啊，xml啊就想呕，连太阳都是绿的</div><h4>引用来自“愤怒的大菠萝”的评论</h4>撸多了</div>保重.</div>
		<div id="inline_reply_of_2072_207426_16055" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_1585149_16058">
	<div class="user"><a href="http://my.oschina.net/u/1585149" name="rpl_16058"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/1585149_50.jpg" align="absmiddle" alt="米fan2009" title="米fan2009" class="SmallPortrait" user="1585149"></a></div>
	<div class="body">
		<div class="time"><b>米fan2009</b> 来自 <a href="http://www.oschina.net/mobile" target="_blank">Android</a>  发表于 2014-05-14 10:25</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">-_-||</div>
		<div id="inline_reply_of_2072_1585149_16058" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_1036718_16059">
	<div class="user"><a href="http://my.oschina.net/pwh19920920" name="rpl_16059"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/1036718_50.jpg" align="absmiddle" alt="nonnetta" title="nonnetta" class="SmallPortrait" user="1036718"></a></div>
	<div class="body">
		<div class="time"><b>nonnetta</b>   发表于 2014-05-14 10:30</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">我了个去，看到了神回复 ╮(╯▽╰)╭</div>
		<div id="inline_reply_of_2072_1036718_16059" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_250555_16060">
	<div class="user"><a href="http://my.oschina.net/ruralhunter" name="rpl_16060"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/portrait.gif" align="absmiddle" alt="RuralHunter" title="RuralHunter" class="SmallPortrait" user="250555"></a></div>
	<div class="body">
		<div class="time"><b>RuralHunter</b>   发表于 2014-05-14 10:46</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">这注解的也太狠了。。。</div>
		<div id="inline_reply_of_2072_250555_16060" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_144940_16061">
	<div class="user"><a href="http://my.oschina.net/osacar" name="rpl_16061"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/144940_50.jpg" align="absmiddle" alt="红白机" title="红白机" class="SmallPortrait" user="144940"></a></div>
	<div class="body">
		<div class="time"><b>红白机</b>   发表于 2014-05-14 11:03</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">用了xml又会怎么样啊？至于么？</div>
		<div id="inline_reply_of_2072_144940_16061" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_563958_16062">
	<div class="user"><a href="http://my.oschina.net/bingki" name="rpl_16062"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/563958_50.jpg" align="absmiddle" alt="bingki" title="bingki" class="SmallPortrait" user="563958"></a></div>
	<div class="body">
		<div class="time"><b>bingki</b>   发表于 2014-05-14 11:15</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">一位的追求注解，也是我之前的追求。但是项目半年后要修改，却要死命的找具体注解在哪里？已经完全忘记当初怎么注解的。</div>
		<div id="inline_reply_of_2072_563958_16062" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_95289_16064">
	<div class="user"><a href="http://my.oschina.net/obullxl" name="rpl_16064"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/95289_50.jpg" align="absmiddle" alt="徐林" title="徐林" class="SmallPortrait" user="95289"></a></div>
	<div class="body">
		<div class="time"><b>徐林</b>   发表于 2014-05-14 11:54</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">XML配置感觉也挺方便的，如数据连接池、线程池等，XML+Bean注解也是挺清晰的。</div>
		<div id="inline_reply_of_2072_95289_16064" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_914559_16065">
	<div class="user"><a href="http://my.oschina.net/dolphinboy" name="rpl_16065"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/914559_50.jpg" align="absmiddle" alt="DolphinBoy" title="DolphinBoy" class="SmallPortrait" user="914559"></a></div>
	<div class="body">
		<div class="time"><b>DolphinBoy</b>   发表于 2014-05-14 13:17</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">Spring Integration 都没听说过</div>
		<div id="inline_reply_of_2072_914559_16065" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_867482_16067">
	<div class="user"><a href="http://my.oschina.net/u/867482" name="rpl_16067"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/867482_50.jpg" align="absmiddle" alt="gahello" title="gahello" class="SmallPortrait" user="867482"></a></div>
	<div class="body">
		<div class="time"><b>gahello</b>   发表于 2014-05-14 14:51</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><div class="ref"><div class="ref"><h4>引用来自“子矜”的评论</h4>现在看到黄瓜啊，鲍鱼啊，茄子啊，xml啊就想呕，连太阳都是绿的</div><h4>引用来自“愤怒的大菠萝”的评论</h4>撸多了</div><h4>引用来自“bigtiger02”的评论</h4>保重.</div>牛人</div>
		<div id="inline_reply_of_2072_867482_16067" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_867482_16068">
	<div class="user"><a href="http://my.oschina.net/u/867482" name="rpl_16068"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/867482_50.jpg" align="absmiddle" alt="gahello" title="gahello" class="SmallPortrait" user="867482"></a></div>
	<div class="body">
		<div class="time"><b>gahello</b>   发表于 2014-05-14 14:52</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><h4>引用来自“RuralHunter”的评论</h4>这注解的也太狠了。。。</div>现在注解在项目里面是特别的多啊</div>
		<div id="inline_reply_of_2072_867482_16068" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_231306_16070">
	<div class="user"><a href="http://my.oschina.net/osmadman" name="rpl_16070"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/231306_50.jpg" align="absmiddle" alt="开源狂人" title="开源狂人" class="SmallPortrait" user="231306"></a></div>
	<div class="body">
		<div class="time"><b>开源狂人</b>   发表于 2014-05-14 16:52</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">物极必反，别太极端了，XML还是有他的好处的，至少留一个入口配置吧，这要是维护起来，就要每个类的找，如果约束没设计好，后来人一定会被坑死的。</div>
		<div id="inline_reply_of_2072_231306_16070" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_189973_16074">
	<div class="user"><a href="http://my.oschina.net/u/189973" name="rpl_16074"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/189973_50.jpg" align="absmiddle" alt="魏曼奇" title="魏曼奇" class="SmallPortrait" user="189973"></a></div>
	<div class="body">
		<div class="time"><b>魏曼奇</b>   发表于 2014-05-14 19:46</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">从软件设计原则来说，xml这种重量级的结构根本就不该做配置信息。配置信息都是轻量级的数据。<br>当然，注解也有它的问题。</div>
		<div id="inline_reply_of_2072_189973_16074" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_106616_16076">
	<div class="user"><a href="http://my.oschina.net/niko" name="rpl_16076"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/106616_50.jpg" align="absmiddle" alt="好运的卡米洛" title="好运的卡米洛" class="SmallPortrait" user="106616"></a></div>
	<div class="body">
		<div class="time"><b>好运的卡米洛</b>   发表于 2014-05-14 21:57</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail">各有利弊，结合使用</div>
		<div id="inline_reply_of_2072_106616_16076" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_1261699_16077">
	<div class="user"><a href="http://my.oschina.net/u/1261699" name="rpl_16077"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/1261699_50.bmp" align="absmiddle" alt="小99" title="小99" class="SmallPortrait" user="1261699"></a></div>
	<div class="body">
		<div class="time"><b>小99</b> 来自 <a href="http://www.oschina.net/mobile" target="_blank">Android</a>  发表于 2014-05-14 22:11</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><h4>引用来自“DolphinBoy”的评论</h4>Spring Integration 都没听说过</div>你又out了</div>
		<div id="inline_reply_of_2072_1261699_16077" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li><li class="comment" id="cmt_2072_914559_16122">
	<div class="user"><a href="http://my.oschina.net/dolphinboy" name="rpl_16122"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/914559_50.jpg" align="absmiddle" alt="DolphinBoy" title="DolphinBoy" class="SmallPortrait" user="914559"></a></div>
	<div class="body">
		<div class="time"><b>DolphinBoy</b>   发表于 2014-05-15 12:40</div>
		<div class="opts">
						</div>
		<div class="clear"></div>
		<div class="detail"><div class="ref"><div class="ref"><h4>引用来自“DolphinBoy”的评论</h4>Spring Integration 都没听说过</div><h4>引用来自“小99”的评论</h4>你又out了</div>其实我已经out很久了</div>
		<div id="inline_reply_of_2072_914559_16122" class="inline_reply"></div>
	</div>
	<div class="clear"></div>
</li></ul>
                                                                                                <ul class="pager">
                        <li class="page current"><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?p=1">1</a></li>            <li class="page"><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?p=2#comments">2</a></li>            <li class="page next"><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free?p=2#comments">&gt;</a></li>        </ul>
            			<div class="clear"></div>
			<div class="commentForm">
				<div class="user"><a href="" name="commentForm"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/portrait.gif" align="absmiddle" alt="非会员用户" title="非会员用户" class="SmallPortrait" user=""></a></div>
    			<form id="form_comment" action="http://www.oschina.net/action/translate/comment?" method="post">
					<input type="hidden" value="2072" name="article">
    				<textarea id="txt_comment" name="content" onkeydown="if((event.metaKey || event.ctrlKey)&amp;&amp;event.keyCode==13){$(&#39;#form_comment&#39;).submit();}" style="width:600px;height:100px;"></textarea><br>
    				<input type="submit" value=" 发表评论 " id="FormSubmitButton" class="SUBMIT rndbutton">
    				<span id="form_msg" style="display:none;"></span>
					<p style="margin-top:36px;"><a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#comments">回评论顶部</a> | <a href="http://www.oschina.net/translate/spring-integration-40-complete-xml-free#top">回页面顶部</a></p>
    			</form>
			</div>
		</div>
        <div class="clear"></div>
	</div>
	</div>
<div class="clear"></div>
<div id="inline_reply_editor" style="display:none;">
    <div class="CommentForm">
        <form id="form_inline_comment" method="POST" action="http://www.oschina.net/action/translate/comment">
            <input id="inline_reply_id" type="hidden" value="" name="reply_id">
			<input type="hidden" value="2072" name="article">
            <textarea id="txt_focus" onkeydown="if((event.metaKey || event.ctrlKey)&amp;&amp;event.keyCode==13){$(&#39;#form_inline_comment&#39;).submit();}" style="width:400px;height:80px;" name="content"></textarea>
            <br>
            <input class="SUBMIT" type="submit" value="回复">
            <input id="btn_close_inline_reply" class="SUBMIT" type="button" value="关闭">
            文明上网，理性发言
        </form>
    </div>
</div>

<script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/xregexp-min.js"></script>
<script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/shCore.min.js"></script>
<script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/shAutoloader.js"></script>
<link type="text/css" rel="stylesheet" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/shCore.css">
<link type="text/css" rel="Stylesheet" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/shThemeDefault.css">

<script type="text/javascript">
    SyntaxHighlighter.autoloader(
            'applescript			/js/sh309/scripts/shBrushAppleScript.js?t=1423294217000',
            'actionscript3 as3		/js/sh309/scripts/shBrushAS3.js?t=1423294217000',
            'bash shell				/js/sh309/scripts/shBrushBash.js?t=1423294217000',
            'coldfusion cf			/js/sh309/scripts/shBrushColdFusion.js?t=1423294217000',
            'cpp c					/js/sh309/scripts/shBrushCpp.js?t=1423294217000',
            'obj-c objc				/js/sh309/scripts/shBrushObjC.js?t=1423294217000',
            'c# c-sharp csharp		/js/sh309/scripts/shBrushCSharp.js?t=1423294217000',
            'css					/js/sh309/scripts/shBrushCss.js?t=1423294217000',
            'delphi pascal			/js/sh309/scripts/shBrushDelphi.js?t=1423294217000',
            'diff patch pas			/js/sh309/scripts/shBrushDiff.js?t=1423294217000',
            'erl erlang				/js/sh309/scripts/shBrushErlang.js?t=1423294217000',
            'groovy					/js/sh309/scripts/shBrushGroovy.js?t=1423294217000',
            'haxe hx				/js/sh309/scripts/shBrushHaxe.js?t=1423294217000',
            'java					/js/sh309/scripts/shBrushJava.js?t=1423294217000',
            'jfx javafx				/js/sh309/scripts/shBrushJavaFX.js?t=1423294217000',
            'js jscript javascript	/js/sh309/scripts/shBrushJScript.js?t=1423294217000',
            'perl pl				/js/sh309/scripts/shBrushPerl.js?t=1423294217000',
            'php					/js/sh309/scripts/shBrushPhp.js?t=1423294217000',
            'text plain				/js/sh309/scripts/shBrushPlain.js?t=1423294217000',
            'py python				/js/sh309/scripts/shBrushPython.js?t=1423294217000',
            'ruby rails ror rb		/js/sh309/scripts/shBrushRuby.js?t=1423294217000',
            'scala					/js/sh309/scripts/shBrushScala.js?t=1423294217000',
            'sql					/js/sh309/scripts/shBrushSql.js?t=1423294217000',
            'vb vbnet				/js/sh309/scripts/shBrushVb.js?t=1423294217000',
            'xml xhtml xslt html	/js/sh309/scripts/shBrushXml.js?t=1423294217000'
    );
    SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/translate"></script>
<link type="text/css" rel="stylesheet" href="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/shThemeDefault(1).css">
<script type="text/javascript">
$(document).ready(function() {
	$('#form_comment').ajaxForm({
    	dataType: 'json',
		beforeSubmit: function(){
			$('#FormSubmitButton').attr('disabled','disabled');
			$('#form_msg').html("<span class='ajax_processing'>正在提交评论，请稍候...</span>");	
			$('#form_msg').show();	
		},
        success: function(json) {
			$('#FormSubmitButton').removeAttr('disabled');
			    		if(json.msg){
				$('#form_msg').html("<span class='error_msg'>"+json.msg+"</span>");
				$('#form_msg').show();
			}
    		else if(json.id){
    			ajax_get("/translate/show_comment?_cmt_id="+json.id, true, function(data){
    				$('.comments ul.list').append(data);
					$('#txt_comment').val('');
					$('.reply_count').html(json.reply_count);
    			});
				$('#form_msg').hide();
    		}
        }
    });
});
function delete_c(aid,uid,cid) {
	if(confirm("您确认要删除此评论？")){
        ajax_post("/action/translate/delete_comments",{cmt:cid},function(html){
			if(html.length>0)
				alert(html);
			else {
				$("#cmt_"+aid+"_"+uid+"_"+cid).fadeOut();
				$('.reply_count').html(parseInt($('.reply_count').html())-1);
			}
		});
	}
}
function reply_c(aid,uid,cid) {
	$('.inline_reply').empty();
	var div_id = '#inline_reply_of_'+aid+'_'+uid+'_'+cid;
	$('#inline_reply_id').val(uid+'_'+cid);
	$(div_id).html($('#inline_reply_editor').html());
	$('#txt_focus').focus();
	$('#btn_close_inline_reply').click(function(){
		$(div_id).empty();
	});
	$('#form_inline_comment').ajaxForm({
    	dataType: 'json',
    	success: function(json) {
        	if(json.msg){
        		alert(json.msg);
        	}
			else if(json.id){
				ajax_get("/translate/show_comment?_cmt_id="+json.id, true, function(data){
    				$('.comments ul.list').append(data);
					$('.reply_count').html(json.reply_count);
					$(div_id).empty();
    			});
			}
    	}
	});
}
function vote_article(id) {
		alert("必须登录后才能操作 :)");
	}
function vote_block(id) {
		alert("必须登录后才能操作 :)");
	}
function show_other(pid,ppid) {
	if($('#other_translate_'+pid+' .paragraph_chs').length==0) {
    	$('#other_translate_'+pid).show();
    	ajax_post("/translate/show_other_translate","pid="+pid+"&ppid="+ppid,function(html){
    		$('#other_translate_'+pid).hide().html(html);
			// 代码着色
			$('#other_translate_'+pid+' pre').each(function(){
				SyntaxHighlighter.highlight(null,this);
			});
			$('#other_translate_'+pid).slideDown();
    	});
    	}
	else {
		$('#other_translate_'+pid).slideToggle();
	}
	$('#btn_show_other_'+pid).toggleClass('closeOthers');
	$('#translate_'+pid).toggleClass('bd10');
}
function edit_tags(id) {
    popup("/translate/edit_tags?article="+id);
}
</script><div class="clear"></div></div>
	<div id="OSC_Footer" class="CenterDiv"><style>
.oscapp {text-align:left; width:220px;}
.oscapp span {float:left;width:140px;}
.oscapp a {float:left;text-indent:-9999em;width:16px;margin-left:8px;}
.oscapp a.android {background:url('/img/android.gif') no-repeat left center;}
.oscapp a.iphone {background:url('/img/iphone.gif') no-repeat left center;}
.oscapp a.wp7 {background:url('/img/wp7.gif') no-repeat left center;}
</style>
<table width="100%"><tbody><tr>
<td align="left">© 开源中国(OSChina.NET) | <a href="http://www.oschina.net/home/aboutosc">关于我们</a> | <a href="mailto:market@oschina.net">广告联系</a> | <a href="http://weibo.com/oschina2010" target="_blank">@新浪微博</a> | <a href="http://m.oschina.net/">开源中国手机版</a> | <a href="http://www.miitbeian.gov.cn/" target="_blank" style="color:#737573;text-decoration:none;">粤ICP备12009483号-3</a></td>
<td class="oscapp">
	<span>开源中国手机客户端：</span>
	<a href="http://www.oschina.net/app" class="android" title="Android客户端">Android</a>
	<a href="http://www.oschina.net/app" class="iphone" title="iPhone 客户端">iPhone</a>
	<a href="http://www.oschina.net/app" class="wp7" title="Windows Phone 客户端">WP7</a>
</td>
</tr>
<tr>
<td colspan="2" align="left">开源中国社区(OSChina.net)是工信部 <a href="http://www.copu.org.cn/" target="_blank">开源软件推进联盟</a> 指定的官方社区</td>
</tr>
</tbody></table>
<script type="text/javascript">
<!--
if (top.location != self.location)top.location=self.location;
//-->
</script></div>
</div>


<!-- Generated by OsChina.NET (init:0[ms],page:45[ms],ip:120.85.248.112) --><div id="fancybox-tmp"></div><div id="fancybox-loading"><div></div></div><div id="fancybox-overlay"></div><div id="fancybox-wrap"><div id="fancybox-outer"><div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div><div id="fancybox-content"></div><a id="fancybox-close"></a><div id="fancybox-title"></div><a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a><a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a></div></div><div id="topcontrol" title="回到顶部" style="position: fixed; bottom: 120px; right: 100px; cursor: pointer; display: none;"><img src="./Spring Integration 4.0  一个完全无需 XML 的示例 - 技术翻译 - 开源中国社区_files/gotop.gif" style="width:31px; height:31px;"></div><div class="_bd_ext_tip" style="visibility: hidden;"><span class="_bd_ext_search">百度一下</span><span class="_bd_ext_open">打开链接</span><span class="_bd_ext_copy">复制</span></div></body></html>